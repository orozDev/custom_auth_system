# –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (Django + DRF)

## üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å [—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∑–∞–¥–∞–Ω–∏–µ–º](./–¢–ópython_EM_–∏—é–ª—å.docx) –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π backend-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Django** –∏ **Django REST Framework**.

–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî **—Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º**, –±–µ–∑ –ø–æ–ª–Ω–æ–π –æ–ø–æ—Ä—ã –Ω–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã Django. –î–ª—è –∑–∞—â–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è JWT (JSON Web Token), —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤—Ä—É—á–Ω—É—é.

---

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

   * –í–≤–æ–¥ –∏–º–µ–Ω–∏, email, –ø–∞—Ä–æ–ª—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.
   * –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ `sha256`.

2. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**

   * –í—Ö–æ–¥ –ø–æ email –∏ –ø–∞—Ä–æ–ª—é.
   * –í—ã–¥–∞—á–∞ –ø–∞—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤ (`access_token`, `refresh_token`).

3. **–ü—Ä–æ—Ñ–∏–ª—å**

   * –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.
   * –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è.

4. **–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (–º—è–≥–∫–æ–µ)**

   * –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–º–µ—á–∞–µ—Ç—Å—è –∫–∞–∫ `is_active=False`.
   * –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—Ö–æ–¥ –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω, –Ω–æ –∑–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î.

5. **–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π**

   * **Admin** ‚Äî –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ.
   * **Client** ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∞.
   * **Seller** ‚Äî –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–¥–∞–≤—Ü—É.

6. **–†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞**

   * –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–µ `permissions`.
   * –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω ‚Üí **401 Unauthorized**.
   * –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–∞ –Ω–µ—Ç ‚Üí **403 Forbidden**.

7. **Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**
   –î–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –º–∞—Ä—à—Ä—É—Ç–∞–º:

   * `/swagger/` ‚Äî Swagger UI
   * `/redoc/` ‚Äî ReDoc

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `models.py` ‚Äî –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –º–µ–Ω–µ–¥–∂–µ—Ä –∏ –∫–∞—Å—Ç–æ–º–Ω—ã–π `AnonymousUser`.
* `services.py` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è JWT (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è, –≤–∞–ª–∏–¥–∞—Ü–∏—è, refresh).
* `middleware.py` ‚Äî –∫–∞—Å—Ç–æ–º–Ω–æ–µ middleware –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ JWT.
* `api.py` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ API (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, –ø—Ä–æ—Ñ–∏–ª—å, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ).
* `permissions.py` ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ—Å—Ç—É–ø–∞.
* `serializers.py` ‚Äî —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, –ø—Ä–æ—Ñ–∏–ª—å).
* `yasg.py` ‚Äî Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è.

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone <repo_url>
cd <project_name>

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
python manage.py migrate

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
python manage.py runserver
```

---

## üîë –î–∞–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ —Å–∏—Å—Ç–µ–º–µ –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:

* **Username:** `admin`
* **Email:** `admin@gmail.com`
* **–ü–∞—Ä–æ–ª—å:** `pythondjango`

---

## üìñ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

| –ú–µ—Ç–æ–¥  | –ú–∞—Ä—à—Ä—É—Ç                 | –û–ø–∏—Å–∞–Ω–∏–µ                        |
| ------ | ----------------------- | ------------------------------- |
| POST   | `/register/`            | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è        |
| POST   | `/login/`               | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤) |
| POST   | `/refresh-token/`       | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤              |
| GET    | `/profile/`             | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è               |
| PATCH  | `/profile/`             | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è              |
| DELETE | `/delete-account/`      | –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞               |
| GET    | `/endpoint-for-client/` | –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤      |
| GET    | `/endpoint-for-seller/` | –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ–¥–∞–≤—Ü–æ–≤     |
| GET    | `/endpoint-for-admin/`  | –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤       |

---

## üõ°Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–æ—Å—Ç—É–ø–∞

* –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer <access_token>`.
* –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –∫–∞—Å—Ç–æ–º–Ω–æ–µ `AuthenticationMiddleware` –¥–æ–±–∞–≤–ª—è–µ—Ç `request.user2`.
* –ü—Ä–∞–≤–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —á–µ—Ä–µ–∑ –∫–∞—Å—Ç–æ–º–Ω—ã–µ –∫–ª–∞—Å—Å—ã `permissions`.

---

## üìß –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ê–≤—Ç–æ—Ä: **Orozbek Zhenishbek uulu**
Email: [oroz.jenishbek@gmail.com](mailto:oroz.jenishbek@gmail.com)

---
